<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shree Jugal Kishore Ji Temple</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Top Header -->
  <header>
    <div class="title fs-4">üïâÔ∏è Shree Jugal Kishore Ji Temple</div>
    <nav class="menu">
      <a onclick="showSection('home')">Home</a>
      <a onclick="showSection('aarti')">Aarti Booking</a>
      <a onclick="showSection('gallery')">Gallery</a>
      <a onclick="showSection('contact')">Contact</a>
    </nav>
  </header>

  <!-- Main Content -->
  <main>
    <div class="content-area">
      <!-- Left Panel -->
      <div class="left-panel">
        <img src="img/img1.jpg" alt="Jugal Kishore Ji" class="img-fluid mt-3" />
      </div>

      <!-- Center Panel (Dynamic) -->
      <div class="center-panel" id="mainContent">
        <!-- Default Section -->
        <div id="home" class="section">
          <h2 class="text-center text-success">üôè Welcome to Shree Jugal Kishore Ji Temple üôè</h2>
          <p>
            This temple is dedicated to Lord Krishna, the supreme divine who teaches us love, peace and devotion.
            Our temple hosts daily Aarti at 7:00 AM and 7:00 PM. Devotees can book their Aarti slots online
            using the booking panel on the left.
          </p>
          <p>
            The temple also organizes bhajans, satsangs, and festive celebrations like Janmashtami with
            great devotion and joy.
          </p>
        </div>

        <div id="aarti" class="section" style="display:none;">
          <h3 class="text-primary">Aarti Timings</h3>

          <p>Please book your preferred slot from the form</p>
          <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSeGYoW-uWIVI6-pHM1y3hCXQkYqicwu0tZXNJsCecOiu4UCEg/viewform?usp=dialog" height="500"></iframe>
        </div>

        <div id="gallery" class="section" style="display:none;">
          <h3 class="text-primary">Temple Gallery</h3>
          <p>View beautiful photos and videos of our temple and divine events.</p>
          <!-- Embed Google Drive Folder / YouTube Playlist -->
          <iframe src="https://drive.google.com/embeddedfolderview?id=YOUR_DRIVE_FOLDER_ID#grid" height="400"></iframe>
        </div>

        <div id="contact" class="section" style="display:none;">
          <h3 class="text-primary">Contact & Location</h3>
          <p><b>Address:</b> Shree Jugal Kishore Ji Temple, Panna, Madhya Pradesh</p>
          <p><b>Phone:</b> To be updated</p>
          <p><b>Email:</b> To be updated</p>
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!..." height="300"></iframe>
        </div>
      </div>

      <!-- Right Panel -->
      <div class="right-panel">
        <h5 class="text-center text-primary">Aarti Bookings</h5>
            <div id="bookingList" style="height: 500px; overflow-y: auto;"></div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer>
    ¬© 2025 Shree Jugal Kishore Ji Temple | District : Panna | Designed for Social Service by Ranjit Soni & Pallav Khare üôè
  </footer>

  <script>
    function showSection(sectionId) {
      document.querySelectorAll('.section').forEach(sec => sec.style.display = 'none');
      document.getElementById(sectionId).style.display = 'block';
    }

    const SHEET_URL = "https://script.google.com/macros/s/AKfycbyCUoFENKJLAQYyf_gAKUwexpE77zwePr9Fo5UjKH1-lXKeSqh3BvnzaV8A_jCUW6PyLA/exec"; // replace with your sheet link

    console.log("Fetching booking data from:", SHEET_URL);
    async function loadBookings() {
      try {
        const res = await fetch(SHEET_URL);
        const data = await res.json();

        let html = '<ul class="list-group">';
        data.forEach(row => {
          const name = row["Full Name"];
          const slot = row["Date of Aarti"];
          if (name && slot) {
            html += `
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <span>${name}</span>
                <span class="badge bg-primary">${slot}</span>
              </li>`;
          }
        });
        html += '</ul>';
        document.getElementById('bookingList').innerHTML = html;
      } catch (err) {
        console.error(err);
        document.getElementById('bookingList').innerHTML = '<p class="text-danger">Unable to load booking info</p>';
      }
    }

    loadBookings();
    setInterval(loadBookings, 10000); // refresh every 5 sec
  </script>
</body>
</html>
